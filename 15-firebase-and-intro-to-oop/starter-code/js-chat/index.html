<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>JS Chat</title>
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <div class="container">
      <h1>JS Chat</h1>

      <div id="formContainer">
      </div>

      <div id="chatLog">
      </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.0.0.min.js" integrity="sha256-JmvOoLtYsmqlsWxa7mDSLMwa6dZ9rrIdtrrVYRnDRH0="   crossorigin="anonymous"></script>
  	<script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>

    
    <script src="https://www.gstatic.com/firebasejs/3.2.1/firebase.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyAG92bvlmuD4L-uXtjaA2GZq8nXr9UMm5Y",
        authDomain: "js-chat1.firebaseapp.com",
        databaseURL: "https://js-chat1.firebaseio.com",
        storageBucket: "js-chat1.appspot.com",
      };
      firebase.initializeApp(config);
    </script>
  
    <script type="text/javascript" src="js/index.js"></script>

    <script id="form-template" type="text/x-handlebars-template">
      {{#if loggedIn}}
        <div id="commentForm">
          <textarea name="message"></textarea>
          <input id="comment" type="submit" value="Comment" />
          <input id="signOut" type="submit" value="Sign Out" />
        </div>
      {{else}}
        <div id="registerLoginForm">
          <h3>Register/Login</h3>
          <input name="email" type="email" placeholder="Email Address" />
          <input name="password" type="password" placeholder="Password" />
          <input id="register" type="submit" value="Register" />
          <input id="login" type="submit" value="Login" />
        </div>
      {{/if}}
    </script>

    <script id="chat-template" type="text/x-handlebars-template">
      {{#if loggedIn}}
        {{#each messages}}
          <div class="message" data-id="{{@key}}">
            <h4>{{author}}</h4>
            <p>{{text}}</p>
            <h5>Upvotes: {{upvotes}}</h5>
            <button class="upvote">^</button>
            <button class="delete">x</button>
          </div>
        {{/each}}
      {{/if}}
    </script>
  </body>
</html>
